<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>zjarci blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://zjarci.github.io/"/>
  <updated>2018-11-25T11:18:29.563Z</updated>
  <id>https://zjarci.github.io/</id>
  
  <author>
    <name>zjarci</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>stm32f103c8t6最小系统板玩转arduino</title>
    <link href="https://zjarci.github.io/2018/11/25/stm32f103c8t6%E6%9C%80%E5%B0%8F%E7%B3%BB%E7%BB%9F%E6%9D%BF%E7%8E%A9%E8%BD%ACarduino/"/>
    <id>https://zjarci.github.io/2018/11/25/stm32f103c8t6最小系统板玩转arduino/</id>
    <published>2018-11-25T11:16:33.000Z</published>
    <updated>2018-11-25T11:18:29.563Z</updated>
    
    <content type="html"><![CDATA[<p>一、硬件：<br>淘宝搜索“stm32f103c8t6最小系统板”，实物如下图所示：</p><p><img src="\images\pasted-2.png" alt="upload successful"><br>二、软件：<br>2.1、从arduino官网<a href="https://www.arduino.cc下载Arduino" target="_blank" rel="noopener">https://www.arduino.cc下载Arduino</a> IDE，我下载的是zip免安装版本，文件名：arduino-1.8.7-windows.zip；<br>2.2、从<a href="https://github.com/rogerclarkmelbourne/Arduino_STM32下载stm32的arduino硬件库，文件名：Arduino_STM32-master.zip；" target="_blank" rel="noopener">https://github.com/rogerclarkmelbourne/Arduino_STM32下载stm32的arduino硬件库，文件名：Arduino_STM32-master.zip；</a><br>2.3、从<a href="https://github.com/rogerclarkmelbourne/STM32duino-bootloader下载bootloader文件，文件名：STM32duino-bootloader-master.zip；" target="_blank" rel="noopener">https://github.com/rogerclarkmelbourne/STM32duino-bootloader下载bootloader文件，文件名：STM32duino-bootloader-master.zip；</a><br>2.4、从<a href="https://developer.arm.com/open-source/gnu-toolchain/gnu-rm下载GNU" target="_blank" rel="noopener">https://developer.arm.com/open-source/gnu-toolchain/gnu-rm下载GNU</a> Arm Embedded Toolchain，文件名：gcc-arm-none-eabi-7-2018-q2-update-win32.zip<br>2.5、解压以上四个压缩包；<br>2.6、把Arduino_STM32-master文件夹改名为Arduino_STM32并移动到arduino-1.8.7\hardware目录下；<br>2.7、把gcc-arm-none-eabi-7-2018-q2-update-win32移动到arduino-1.8.7\hardware\Arduino_STM32\tools目录下；<br>2.8、在arduino-1.8.7\hardware\Arduino_STM32\STM32F1\platform.txt中添加目录定义，如下两行：<br>        runtime.hardware.path=./hardware/Arduino_STM32<br>        runtime.tools.arm-none-eabi-gcc.path=./hardware/Arduino_STM32/tools/gcc-arm-none-eabi-7-2018-q2-update-win32<br>2.9、把arduino-1.8.7\hardware\Arduino_STM32\tools\gcc-arm-none-eabi-7-2018-q2-update-win32\arm-none-eabi\include\sys\cdefs.h中的宏定义<strong>always_inline改为：<br>        //#define        </strong>always_inline        <strong>inline</strong> <strong>attribute</strong>((<strong>always_inline</strong>))</p><pre><code>#define        __always_inline        __attribute__((__always_inline__))</code></pre><p>2.10、运行arduino-1.8.7\hardware\Arduino_STM32\drivers\win\install_drivers.bat安装驱动，驱动包括Maple DFU driver和Maple Serial driver，<br>        其中Maple DFU driver用于更新程序，Maple Serial driver用于USB转串口。<br>三、操作：<br>3.1、使用串口或仿真器stlink烧录”STM32duino-bootloader-master.zip\STM32duino-bootloader-master\bootloader_only_binaries\generic_boot20_pc13.bin”文件到stm32f103c8t6最小系统板；<br>3.2、使用usb数据线直接连接stm32f103c8t6最小系统板的Micro USB接口，根据提示安装驱动；<br>3.3、运行arduino ide，文件\新建，并设置开发板，如下图所示：<br><img src="\images\pasted-3.png" alt="upload successful"><br>3.4、添加程序：</p><p>#include &lt;MapleFreeRTOS900.h&gt;</p><p>#define BOARD_LED_PIN PC13</p><p>static void vLEDFlashTask(void *pvParameters) {<br>    for (;;) {<br>        vTaskDelay(500);<br>        digitalWrite(BOARD_LED_PIN, HIGH);<br>        vTaskDelay(500);<br>        digitalWrite(BOARD_LED_PIN, LOW);<br>    }<br>}</p><p>static void vSerialTask(void *pvParameters) {<br>    for (;;) {<br>        Serial.println(“LED OFF”);<br>        while(!(digitalRead(BOARD_LED_PIN)));<br>        Serial.println(“LED ON”);<br>        while((digitalRead(BOARD_LED_PIN)));<br>    }<br>}</p><p>void setup() {<br>    // initialize the digital pin as an output:<br>    pinMode(BOARD_LED_PIN, OUTPUT);<br>    Serial.begin(9600);<br>    xTaskCreate(vLEDFlashTask,<br>                “Task1”,<br>                configMINIMAL_STACK_SIZE,<br>                NULL,<br>                tskIDLE_PRIORITY + 2,<br>                NULL);<br>    xTaskCreate(vSerialTask,<br>                “Task2”,<br>                configMINIMAL_STACK_SIZE,<br>                NULL,<br>                tskIDLE_PRIORITY + 2,<br>                NULL);<br>    vTaskStartScheduler();<br>}</p><p>void loop() {<br>    // Insert background code here<br>}<br>3.5、验证/编译并上传，运行效果如下：<br><img src="\images\pasted-4.png" alt="upload successful"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;一、硬件：&lt;br&gt;淘宝搜索“stm32f103c8t6最小系统板”，实物如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;\images\pasted-2.png&quot; alt=&quot;upload successful&quot;&gt;&lt;br&gt;二、软件：&lt;br&gt;2.1、从arduino官网&lt;a h
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>OpenOCD SWD调试stm32f0</title>
    <link href="https://zjarci.github.io/2018/11/25/OpenOCD-SWD%E8%B0%83%E8%AF%95stm32f0/"/>
    <id>https://zjarci.github.io/2018/11/25/OpenOCD-SWD调试stm32f0/</id>
    <published>2018-11-25T11:08:24.000Z</published>
    <updated>2018-11-25T11:13:26.472Z</updated>
    
    <content type="html"><![CDATA[<p><img src="\images\pasted-0.png" alt="upload successful"></p><p><img src="\images\pasted-1.png" alt="upload successful"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;\images\pasted-0.png&quot; alt=&quot;upload successful&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;\images\pasted-1.png&quot; alt=&quot;upload successful&quot;&gt;&lt;/p&gt;

      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>yum安装本地rpm包</title>
    <link href="https://zjarci.github.io/2018/10/28/yum%E5%AE%89%E8%A3%85%E6%9C%AC%E5%9C%B0rpm%E5%8C%85/"/>
    <id>https://zjarci.github.io/2018/10/28/yum安装本地rpm包/</id>
    <published>2018-10-28T04:51:02.000Z</published>
    <updated>2018-10-28T03:51:05.720Z</updated>
    
    <content type="html"><![CDATA[<p>yum localinstall ./google-chrome-stable_current_x86_64.rpm</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;yum localinstall ./google-chrome-stable_current_x86_64.rpm&lt;/p&gt;

      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Untitled</title>
    <link href="https://zjarci.github.io/2018/10/18/Untitled/"/>
    <id>https://zjarci.github.io/2018/10/18/Untitled/</id>
    <published>2018-10-18T14:27:47.000Z</published>
    <updated>2018-10-18T14:00:37.735Z</updated>
    
    <content type="html"><![CDATA[<p><img src="\images\zjarci.jpg" alt="upload successful"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;\images\zjarci.jpg&quot; alt=&quot;upload successful&quot;&gt;&lt;/p&gt;

      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://zjarci.github.io/2018/10/13/hello-world/"/>
    <id>https://zjarci.github.io/2018/10/13/hello-world/</id>
    <published>2018-10-13T13:56:41.839Z</published>
    <updated>2018-10-13T13:56:41.840Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
      
    
    </summary>
    
    
  </entry>
  
</feed>
